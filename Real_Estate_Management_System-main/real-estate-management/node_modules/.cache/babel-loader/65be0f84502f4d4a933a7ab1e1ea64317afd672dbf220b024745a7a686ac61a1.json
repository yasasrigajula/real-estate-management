{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Downloads\\\\Real_Estate_Management_System-main\\\\Real_Estate_Management_System-main\\\\real-estate-management\\\\src\\\\pages\\\\ClientDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/ClientDashboard.css';\nimport PropertyCard from '../components/PropertyCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8080/api/properties';\nconst ClientDashboard = () => {\n  _s();\n  const [filteredProperties, setFilteredProperties] = useState([]);\n  const [displayName, setDisplayName] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const username = localStorage.getItem('username');\n    const role = localStorage.getItem('role');\n    const token = localStorage.getItem('token');\n    if (username && role === 'Client' && token) {\n      const name = username.split('@')[0];\n      const capitalizedName = name.charAt(0).toUpperCase() + name.slice(1);\n      setDisplayName(capitalizedName);\n      axios.interceptors.request.use(config => {\n        config.headers.Authorization = `Bearer ${token}`;\n        return config;\n      }, error => {\n        return Promise.reject(error);\n      });\n      axios.get(`${API_BASE_URL}/view`, {\n        params: {\n          username\n        }\n      }).then(response => {\n        setFilteredProperties(response.data);\n      }).catch(error => console.error('Error fetching properties:', error));\n    } else {\n      navigate('/login');\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"client-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar\",\n          children: \"\\uD83D\\uDC64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Welcome, \", displayName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Client\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"properties-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Listing All Properties\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"properties-grid\",\n        children: filteredProperties.length > 0 ? filteredProperties.map((property, index) => /*#__PURE__*/_jsxDEV(PropertyCard, {\n          property: property\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No properties found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientDashboard, \"gRSv7HVhLz94eNsUrLMCmPJqEOc=\", false, function () {\n  return [useNavigate];\n});\n_c = ClientDashboard;\nexport default ClientDashboard;\nvar _c;\n$RefreshReg$(_c, \"ClientDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","PropertyCard","jsxDEV","_jsxDEV","API_BASE_URL","ClientDashboard","_s","filteredProperties","setFilteredProperties","displayName","setDisplayName","navigate","username","localStorage","getItem","role","token","name","split","capitalizedName","charAt","toUpperCase","slice","interceptors","request","use","config","headers","Authorization","error","Promise","reject","get","params","then","response","data","catch","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","property","index","_c","$RefreshReg$"],"sources":["C:/Users/asus/Downloads/Real_Estate_Management_System-main/Real_Estate_Management_System-main/real-estate-management/src/pages/ClientDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/ClientDashboard.css';\nimport PropertyCard from '../components/PropertyCard';\n\nconst API_BASE_URL = 'http://localhost:8080/api/properties';\n\nconst ClientDashboard = () => {\n  const [filteredProperties, setFilteredProperties] = useState([]);\n  const [displayName, setDisplayName] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const username = localStorage.getItem('username'); \n    const role = localStorage.getItem('role');\n    const token = localStorage.getItem('token');\n\n    if (username && role === 'Client' && token) {\n      const name = username.split('@')[0];\n      const capitalizedName = name.charAt(0).toUpperCase() + name.slice(1);\n      setDisplayName(capitalizedName);\n\n      axios.interceptors.request.use(\n        config => {\n          config.headers.Authorization = `Bearer ${token}`;\n          return config;\n        },\n        error => {\n          return Promise.reject(error);\n        }\n      );\n\n      axios.get(`${API_BASE_URL}/view`, { params: { username } })\n        .then(response => {\n          setFilteredProperties(response.data);\n        })\n        .catch(error => console.error('Error fetching properties:', error));\n    } else {\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  return (\n    <div className=\"client-dashboard\">\n      <header className=\"dashboard-header\">\n        <div className=\"user-info\">\n          <div className=\"user-avatar\">ðŸ‘¤</div>\n          <div className=\"user-details\">\n            <h1>Welcome, {displayName}</h1>\n            <p>Client</p>\n          </div>\n        </div>\n      </header>\n\n       <div className=\"properties-list\">\n        <h2>Listing All Properties</h2>\n         <div className=\"properties-grid\">\n           {filteredProperties.length > 0 ? (\n            filteredProperties.map((property, index) => (\n              <PropertyCard key={index} property={property} />\n            ))\n          ) : (\n            <p>No properties found.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClientDashboard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}