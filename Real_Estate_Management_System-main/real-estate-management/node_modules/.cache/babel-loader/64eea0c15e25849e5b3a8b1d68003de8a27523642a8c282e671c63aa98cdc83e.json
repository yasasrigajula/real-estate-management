{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Downloads\\\\Real_Estate_Management_System-main\\\\Real_Estate_Management_System-main\\\\real-estate-management\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport '../styles/loginsignup.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userType, setUserType] = useState('Admin');\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  const validate = () => {\n    let tempErrors = {};\n    let isValid = true;\n    if (!email) {\n      tempErrors[\"email\"] = \"Email is required\";\n      isValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      tempErrors[\"email\"] = \"Please enter a valid email address\";\n      isValid = false;\n    }\n    setErrors(tempErrors);\n    return isValid;\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    if (!validate()) return;\n    try {\n      const response = await axios.post('http://localhost:8080/api/users/login', {\n        username: email,\n        password: password,\n        role: userType\n      });\n      if (response.status === 200) {\n        const userRole = response.data.role;\n        const userName = response.data.name || email; // Use name if available, otherwise use email\n        localStorage.setItem('username', userName);\n        localStorage.setItem('role', userRole);\n        localStorage.setItem('token', response.data.token); // Store the token for session management\n        alert(\"Login Successful!\");\n        navigate(`/${userRole}-dashboard`);\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 401) {\n        alert('Invalid email, password, or role');\n      } else {\n        alert('An error occurred. Please try again later.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: userType,\n        onChange: e => setUserType(e.target.value),\n        className: \"input\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Admin\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Agent\",\n          children: \"Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Client\",\n          children: \"Client\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Email address\",\n          className: \"input\",\n          type: \"text\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Password\",\n          className: \"input\",\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remember\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 18\n          }, this), \" Remember me\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"loginBtn\",\n        type: \"submit\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-link\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"New user? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"ml0/2Rssnv4TaTqNrdoRt8znN5A=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsxDEV","_jsxDEV","LoginForm","_s","email","setEmail","password","setPassword","userType","setUserType","errors","setErrors","navigate","validate","tempErrors","isValid","test","handleLogin","e","preventDefault","response","post","username","role","status","userRole","data","userName","name","localStorage","setItem","token","alert","error","className","children","onSubmit","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","id","to","_c","$RefreshReg$"],"sources":["C:/Users/asus/Downloads/Real_Estate_Management_System-main/Real_Estate_Management_System-main/real-estate-management/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport '../styles/loginsignup.css';\n\nconst LoginForm = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userType, setUserType] = useState('Admin');\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n\n  const validate = () => {\n    let tempErrors = {};\n    let isValid = true;\n\n    if (!email) {\n      tempErrors[\"email\"] = \"Email is required\";\n      isValid = false;\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      tempErrors[\"email\"] = \"Please enter a valid email address\";\n      isValid = false;\n    }\n\n   \n\n    setErrors(tempErrors);\n    return isValid;\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    if (!validate()) return;\n\n    try {\n      const response = await axios.post('http://localhost:8080/api/users/login', {\n        username: email,\n        password: password,\n        role: userType,\n      });\n\n      if (response.status === 200) {\n        const userRole = response.data.role;\n        const userName = response.data.name || email; // Use name if available, otherwise use email\n        localStorage.setItem('username', userName);\n        localStorage.setItem('role', userRole);\n        localStorage.setItem('token', response.data.token); // Store the token for session management\n        alert(\"Login Successful!\");\n        navigate(`/${userRole}-dashboard`);\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 401) {\n        alert('Invalid email, password, or role');\n      } else {\n        alert('An error occurred. Please try again later.');\n      }\n    }\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <form className=\"form\" onSubmit={handleLogin}>\n        <select value={userType} onChange={(e) => setUserType(e.target.value)} className=\"input\">\n          <option value=\"Admin\">Admin</option>\n          <option value=\"Agent\">Agent</option>\n          <option value=\"Client\">Client</option>\n        </select>\n        <div className=\"input-group\">\n          <input\n            placeholder=\"Email address\"\n            className=\"input\"\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          {errors.email && <div className=\"error\">{errors.email}</div>}\n        </div>\n        <div className=\"input-group\">\n          <input\n            placeholder=\"Password\"\n            className=\"input\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          {errors.password && <div className=\"error\">{errors.password}</div>}\n        </div>\n        <div className=\"remember\">\n          <label><input type=\"checkbox\"/> Remember me</label>\n        </div>\n        <button id=\"loginBtn\" type=\"submit\">Log in</button>\n        <div className=\"register-link\">\n          <p>New user? <Link to=\"/register\">Register</Link></p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}